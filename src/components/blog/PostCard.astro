---
import type { AstroComponentFactory } from "astro/dist/runtime/server";
import ContentContainer from "./ContentContainer.astro";
import PostMeta from "./PostMeta.astro";
import ChevronRight from "astro-heroicons/solid/ChevronRight.astro";

interface Props {
  title: string;
  categories: string[];
  pubDate?: string | undefined;
  url: string;
  readingTime: number;
  excerpt: string;
  Content: AstroComponentFactory;
}

const { title, categories, pubDate, url, readingTime, excerpt, Content } =
  Astro.props;
---

<article class="relative">
  <h2 class="text-4xl font-bold mb-7"><a href={url}>{title}</a></h2>
  <PostMeta
    categories={categories}
    pubDate={pubDate}
    readingTime={readingTime}
  />
  <ContentContainer>
    {excerpt !== undefined && <div class="z-0 pb-0" set:html={excerpt} />}
    {excerpt === undefined && <Content />}
  </ContentContainer>
  {
    excerpt !== undefined && (
      <div class="absolute bottom-1 pt-16 w-full text-center bg-gradient-to-b from-transparent to-white z-10">
        <a
          href={url}
          class="px-16 py-2 bg-white border border-prime hover:bg-prime rounded-full shadow-md inline-flex space-x-3"
        >
          <>
            <div>Weiterlesen</div>
            <ChevronRight class="w-5" />
          </>
        </a>
      </div>
    )
  }
</article>
